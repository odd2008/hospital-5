(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/healthdoc/healthdoc"],{1881:function(t,e,a){"use strict";a.r(e);var i=a("b494"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},"32e9":function(t,e,a){"use strict";a("bc08");var i=o(a("b0ce")),n=o(a("ba66"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(n.default))},"6b16":function(t,e,a){},8223:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticStyle:{"margin-bottom":"50rpx"}},[t._m(0),a("view",[a("view",{staticClass:"cu-form-group align-start margin-top",staticStyle:{height:"300rpx"}},[a("view",{staticClass:"title"},[t._v("住院史")]),a("textarea",{staticStyle:{height:"250rpx",color:"#333333"},attrs:{maxlength:"-1",disabled:"true",value:t.basicInfo.hospitalHistory}})]),a("view",{staticClass:"cu-form-group align-start margin-top",staticStyle:{height:"300rpx"}},[a("view",{staticClass:"title"},[t._v("手术史")]),a("textarea",{staticStyle:{height:"250rpx",color:"#333333"},attrs:{maxlength:"-1",disabled:"true",value:t.basicInfo.operationHistory}})]),a("view",{staticClass:"cu-form-group align-start margin-top",staticStyle:{height:"300rpx"}},[a("view",{staticClass:"title"},[t._v("家族史")]),a("textarea",{staticStyle:{height:"250rpx",color:"#333333"},attrs:{maxlength:"-1",disabled:"true",value:t.basicInfo.familyHistory}})])]),t._m(1),a("view",t._l(t.sickInfo,function(e,i){return a("view",{key:i,staticClass:"cu-card case",attrs:{id:"sick-"+i}},[a("view",{staticClass:"cu-item shadow"},[a("view",{staticClass:"image"},[a("image",{attrs:{src:e.imageUrl,mode:"widthFix",eventid:"48ca5a63-0-"+i},on:{click:function(a){t.previewImage(e.imageUrl)}}}),a("view",{staticClass:"cu-tag bg-yellow text-white"},[t._v(t._s(e.date))]),a("view",{staticClass:"cu-bar bg-shadeBottom"},[a("text",{class:{"text-cut":e.contentCut},attrs:{eventid:"48ca5a63-1-"+i},on:{click:function(e){t.changeCut(i)}}},[t._v(t._s(e.content))])])])])])}))])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[a("view",{staticClass:"action"},[a("text",{staticClass:"cuIcon-titles text-orange"}),t._v("基本信息")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[a("view",{staticClass:"action"},[a("text",{staticClass:"cuIcon-titles text-orange"}),t._v("病史/报告")])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},b494:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{basicInfo:{hospitalHistory:"",operationHistory:"",familyHistory:""},sickInfo:[]}},methods:{changeCut:function(t){this.sickInfo[t].contentCut=!this.sickInfo[t].contentCut},previewImage:function(e){t.previewImage({urls:[e],current:e,indicator:"none",loop:!1,fail:function(){t.showToast({title:"预览失败，请重试！",duration:1e3})}})},loadInfo:function(){var e=this;this.$requestWithToken({url:"/healthDoc/getHealthDoc",header:{"Content-Type":"application/x-www-form-urlencoded"},succeed:function(a){"success"===a.status&&(e.basicInfo=a.data,t.stopPullDownRefresh())}}),this.$requestWithToken({url:"/healthDoc/getHealthImage",header:{"Content-Type":"application/x-www-form-urlencoded"},succeed:function(a){if("success"===a.status){e.sickInfo=[];var i=!0,n=!1,o=void 0;try{for(var s,c=a.data[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var r=s.value;e.sickInfo.push({date:r.createDate,imageUrl:e.$constants.IMAGE_PUBLIC_PATH+r.imageUrl,content:r.content,contentCut:!0})}}catch(l){n=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(n)throw o}}t.stopPullDownRefresh()}}})}},onLoad:function(){this.loadInfo()},onNavigationBarButtonTap:function(){t.navigateTo({url:"healthdoc-edit"})},onPullDownRefresh:function(){console.log("refresh"),this.loadInfo()}};e.default=a}).call(this,a("6e42")["default"])},ba66:function(t,e,a){"use strict";a.r(e);var i=a("8223"),n=a("1881");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("ea45");var s=a("2877"),c=Object(s["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=c.exports},ea45:function(t,e,a){"use strict";var i=a("6b16"),n=a.n(i);n.a}},[["32e9","common/runtime","common/vendor"]]]);