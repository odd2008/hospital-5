(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/appointment/appointment-history"],{"038b":function(t,e,s){"use strict";s.r(e);var o=s("2b6b"),n=s("0de4");for(var a in n)"default"!==a&&function(t){s.d(e,t,function(){return n[t]})}(a);s("b6bf");var i=s("2877"),c=Object(i["a"])(n["default"],o["a"],o["b"],!1,null,"ed1acdd4",null);e["default"]=c.exports},"0de4":function(t,e,s){"use strict";s.r(e);var o=s("938e"),n=s.n(o);for(var a in o)"default"!==a&&function(t){s.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},"2b6b":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("view",{staticClass:"cu-timeline"},[t._m(0),t._l(t.appointInfos,function(e,o){return s("view",{key:o,staticClass:"cu-item cur",class:[t.bgColors[e.status],"text-"+t.colors[e.status]]},[s("view",{staticClass:"content bg-white",class:["border-"+t.colors[e.status]],staticStyle:{"border-radius":"20rpx"}},[s("view",{staticClass:"radius"},[s("view",{staticClass:"cu-tag shadow-blur",class:"bg-"+t.colors[e.status]},[t._v(t._s(t.statusInfo[e.status]))]),1===e.status?s("view",{staticStyle:{float:"right","font-size":"40rpx"},attrs:{eventid:"09e00cf0-1-"+o},on:{click:function(s){t.goComment(e.doctorDTO.id)}}},[s("text",{staticClass:"cuIcon-comment text-grey"})]):0===e.status?s("view",{staticStyle:{float:"right","font-size":"40rpx"},attrs:{eventid:"09e00cf0-0-"+o},on:{click:function(s){t.cancleAppoint(e.id,e.appointTime.id)}}},[s("text",{staticClass:"cuIcon-delete text-red"})]):t._e()]),s("view",{staticClass:"margin-top text-grey"},[s("view",[t._v("【就诊医院】常州市第二人民医院阳湖院区")]),s("view",[t._v("【科室医生】"+t._s(e.doctorDTO.department)+"-"+t._s(e.doctorDTO.position)+"-"+t._s(e.doctorDTO.name))]),s("view",[t._v("【初/复诊】"+t._s(e.treatType))]),s("view",[t._v("【疾病信息】"+t._s(e.sickInfo))]),s("view",[t._v("【挂号时间】"+t._s(e.createTime))]),s("view",[t._v("【预约诊治时间】"+t._s(e.appointTime.appointDate)+"("+t._s(e.appointTime.timeSpan)+")")]),s("view",[t._v("【诊治时间】"+t._s(null===e.treatTime?"-":e.treatTime))]),s("view",[t._v("【诊治结果】"+t._s(null===e.treatResult?"-":e.treatResult))])])])])}),t._m(1)],2),s("view",{staticClass:"load-progress",class:0!=t.loadProgress?"show":"hide",style:[{top:t.CustomBar+"px"}]},[s("view",{staticClass:"load-progress-bar bg-orange",style:[{transform:"translate3d(-"+(100-t.loadProgress)+"%, 0px, 0px)"}]})])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cu-time"},[s("text",{staticClass:"cuIcon-we text-yellow"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"cu-time"},[s("text",{staticClass:"cuIcon-we text-yellow"})])}];s.d(e,"a",function(){return o}),s.d(e,"b",function(){return n})},9157:function(t,e,s){},"938e":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{CustomBar:this.CustomBar,loadProgress:0,modalName:null,statusInfo:["等待就诊","已就诊","挂号取消"],bgColors:["cuIcon-noticefill","cuIcon-roundcheck","cuIcon-roundclose"],colors:["red","cyan","grey"],appointInfos:[]}},onLoad:function(){this.LoadProgress(),this.loadData()},methods:{goComment:function(e){t.navigateTo({url:"comment?id="+e})},LoadProgress:function(){var t=this;this.loadProgress=this.loadProgress+3,this.loadProgress<100?setTimeout(function(){t.LoadProgress()},40):this.loadProgress=0},cancleAppoint:function(e,s){var o=this;t.showModal({title:"取消预约",content:"确定要预约挂号吗？",cancelText:"取消",confirmText:"确定",success:function(n){n.confirm&&o.$requestWithToken({url:"/appointment/cancleAppoint",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{orderId:e,timeId:s},succeed:function(e){"success"===e.status?(t.showToast({title:"取消成功",icon:"none",duration:2e3}),o.loadData()):t.showToast({title:"网络错误，请重试",icon:"none",duration:2e3})}})}})},loadData:function(){var e=this;this.$requestWithToken({url:"/appointment/getAppointHistory",header:{"Content-Type":"application/x-www-form-urlencoded"},succeed:function(s){"success"===s.status?e.appointInfos=s.data:t.showToast({title:"网络错误，请重试",icon:"none",duration:2e3})}})}},onPullDownRefresh:function(){this.loadData()}};e.default=s}).call(this,s("6e42")["default"])},b6bf:function(t,e,s){"use strict";var o=s("9157"),n=s.n(o);n.a},fd77:function(t,e,s){"use strict";s("bc08");var o=a(s("b0ce")),n=a(s("038b"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(n.default))}},[["fd77","common/runtime","common/vendor"]]]);