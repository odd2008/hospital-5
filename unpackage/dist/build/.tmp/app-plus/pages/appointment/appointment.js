(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/appointment/appointment"],{"3d84":function(t,a,i){"use strict";var e=i("fc70"),n=i.n(e);n.a},"5e8f":function(t,a,i){"use strict";i("bc08");var e=s(i("b0ce")),n=s(i("ac1d"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(n.default))},7888:function(t,a,i){"use strict";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("view",[i("view",{staticClass:"VerticalBox"},[i("scroll-view",{staticClass:"VerticalNav nav",staticStyle:{height:"calc(100vh - 0rpx)"},attrs:{"scroll-y":"","scroll-with-animation":"","scroll-top":t.verticalNavTop}},t._l(t.list,function(a,e){return i("view",{key:e,staticClass:"cu-item",class:e==t.tabCur?"text-cyan":"",attrs:{"data-id":e,eventid:"45737e29-0-"+e},on:{tap:t.TabSelect}},[t._v(t._s(a.name))])})),i("scroll-view",{staticClass:"VerticalMain",staticStyle:{height:"calc(100vh - 0rpx)"},attrs:{"scroll-y":"","scroll-with-animation":"","scroll-into-view":"main-"+t.mainCur,eventid:"45737e29-2"},on:{scroll:t.VerticalMain}},t._l(t.list,function(a,e){return i("view",{key:e,staticClass:"padding-top padding-lr",attrs:{id:"main-"+e}},[i("view",{staticClass:"cu-bar solid-bottom bg-white"},[i("view",{staticClass:"action"},[i("text",{staticClass:"cuIcon-apps text-grey"}),t._v(t._s(a.name))])]),i("view",{staticClass:"cu-list menu-avatar"},t._l(a.types,function(a,n){return i("view",{key:n,staticClass:"cu-item",staticStyle:{"border-bottom":"1rpx solid #eee"},attrs:{id:"type-"+n,eventid:"45737e29-1-"+e+"-"+n},on:{click:function(i){t.goDoctor(a)}}},[i("view",{staticClass:"content",staticStyle:{left:"50rpx",width:"350rpx"}},[i("view",{staticClass:"text-grey"},[t._v(t._s(a.name))])])])}))])}))],1)])},n=[];i.d(a,"a",function(){return e}),i.d(a,"b",function(){return n})},ac1d:function(t,a,i){"use strict";i.r(a);var e=i("7888"),n=i("f3c3");for(var s in n)"default"!==s&&function(t){i.d(a,t,function(){return n[t]})}(s);i("3d84");var c=i("2877"),o=Object(c["a"])(n["default"],e["a"],e["b"],!1,null,"5f8ebe45",null);a["default"]=o.exports},c8b9:function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i="DEPART_HOSPITAL",e={data:function(){return{list:[],tabCur:0,mainCur:0,verticalNavTop:0,load:!0}},onLoad:function(){var a=this;t.showLoading({title:"加载中...",mask:!0}),t.getStorage({key:i,success:function(t){a.list=t.data,a.listCur=a.list[0]},fail:function(){a.loadData()}})},onReady:function(){t.hideLoading()},methods:{TabSelect:function(t){this.tabCur=t.currentTarget.dataset.id,this.mainCur=t.currentTarget.dataset.id,this.verticalNavTop=50*(t.currentTarget.dataset.id-1)},VerticalMain:function(a){var i=this,e=0;if(this.load){for(var n=function(a){var n=t.createSelectorQuery().select("#main-"+i.list[a].id);n.fields({size:!0},function(t){i.list[a].top=e,e+=t.height,i.list[a].bottom=e}).exec()},s=0;s<this.list.length;s++)n(s);this.load=!1}var c=a.detail.scrollTop+10;for(s=0;s<this.list.length;s++)if(c>this.list[s].top&&c<this.list[s].bottom)return this.verticalNavTop=50*(this.list[s].id-1),this.tabCur=this.list[s].id,console.log(c),!1},goDoctor:function(a){t.navigateTo({url:"appointment-doctor?type=".concat(a.name,"&id=").concat(a.id)})},loadData:function(){var a=this;this.$requestWithToken({url:"/appointment/getDepartInfo",header:{"Content-Type":"application/x-www-form-urlencoded"},succeed:function(e){if("success"===e.status){var n=e.data;a.list=n,a.listCur=n[0],t.setStorage({key:i,data:e.data,success:function(){console.log("缓存成功")}})}}})}}};a.default=e}).call(this,i("6e42")["default"])},f3c3:function(t,a,i){"use strict";i.r(a);var e=i("c8b9"),n=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(a,t,function(){return e[t]})}(s);a["default"]=n.a},fc70:function(t,a,i){}},[["5e8f","common/runtime","common/vendor"]]]);