(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/appointment/appointment-order"],{"03c9":function(t,e,a){},"0b75":function(t,e,a){"use strict";a("bc08");var i=n(a("b0ce")),s=n(a("e006"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},"1adb":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{sickInfo:"",userInfo:{name:"去完善信息"},doctorInfo:{headImageUrl:"../../static/uni-center/logo.png",name:"",department:"",position:"",appointNum:0,rate:0,id:0},appointTimeInfo:{time:"",id:0,price:0},types:["初诊","复诊"],type:"初诊"}},onLoad:function(t){this.appointTimeInfo.time=t.time,this.appointTimeInfo.id=t.appointTimeId,this.appointTimeInfo.price=t.price,this.doctorInfo.id=t.doctorId,this.loadData()},onReady:function(){},methods:{typeChanged:function(t){this.type=this.types[t.detail.value]},goBasicInfo:function(){t.navigateTo({url:"../user-info/user-basic-info"})},goHealthInfo:function(){t.navigateTo({url:"../healthdoc/healthdoc-edit"})},loadData:function(){var e=this;this.$requestWithToken({url:"/appointment/getDoctorDetail",header:{"Content-Type":"application/x-www-form-urlencoded"},data:{id:this.doctorInfo.id},succeed:function(a){"success"===a.status?(e.doctorInfo=a.data,null!==e.doctorInfo.headImageUrl&&0!==e.doctorInfo.headImageUrl.length||(e.doctorInfo.headImageUrl="../../static/uni-center/logo.png")):t.showToast({title:"网络错误，请重试",icon:"none",duration:2e3})}}),this.getUserInfo()},getUserInfo:function(){var e=this;this.$requestWithToken({url:"/user/getUserInfo",succeed:function(a){"success"===a.status?null!==a.data.name?(e.userInfo.name=a.data.name,null!==a.data.headImageUrl&&0!==a.data.headImageUrl.length&&(e.userInfo.avatarUrl=e.$constants.IMAGE_PUBLIC_PATH+a.data.headImageUrl)):(t.showToast({title:"请先填写基本资料",icon:"none",duration:2e3}),t.navigateTo({url:"/pages/user-info/user-basic-info"})):t.showToast({title:"网络错误，请重试",icon:"none",duration:2e3})}})}},onNavigationBarButtonTap:function(){if(0!==this.sickInfo.trim().length)if("去完善信息"!==this.userInfo.name){var e=new Date,a={doctorId:this.doctorInfo.id,appointTimeId:this.appointTimeInfo.id,treatType:this.type,sickInfo:this.sickInfo,createTime:"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())};this.$requestWithToken({url:"/appointment/addAppointOrder",header:{"Content-Type":"application/x-www-form-urlencoded"},data:a,succeed:function(e){"success"===e.status?(console.log(JSON.stringify(e)),t.showToast({title:"预约成功",icon:"none",duration:1e3}),t.navigateBack({delta:1})):t.showToast({title:e.errMsg,icon:"none",duration:2e3})}})}else t.showToast({title:"请先完善您的基本信息",icon:"none",duration:2e3});else t.showToast({title:"请填写疾病信息",icon:"none",duration:2e3})}};e.default=a}).call(this,a("6e42")["default"])},ac58:function(t,e,a){"use strict";a.r(e);var i=a("1adb"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},c819:function(t,e,a){"use strict";var i=a("03c9"),s=a.n(i);s.a},e006:function(t,e,a){"use strict";a.r(e);var i=a("f5ed"),s=a("ac58");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("c819");var o=a("2877"),c=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"49f0bb78",null);e["default"]=c.exports},f5ed:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"solids-top margin-top"},[a("view",{staticClass:"doctor-wrap"},[a("view",{staticClass:"cu-avatar round",style:"background-image:url("+t.doctorInfo.headImageUrl+");"}),a("view",{staticClass:"title"},[a("view",{staticClass:"doctor-depart"},[t._v(t._s(t.doctorInfo.department))]),a("view",{staticClass:"doctor-name"},[t._v(t._s(t.doctorInfo.name))]),a("view",{staticClass:"doctor-tip"},[t._v("医生")])])]),a("view",{staticClass:"info-wrap"},[t._m(0),a("view",{staticClass:"row"},[a("view",{staticClass:"info-left"},[t._v("科室医生")]),a("view",{staticClass:"info-right"},[t._v(t._s(t.doctorInfo.department)+" - "+t._s(t.doctorInfo.name))])]),a("view",{staticClass:"row"},[a("view",{staticClass:"info-left"},[t._v("门诊时间")]),a("view",{staticClass:"info-right"},[t._v(t._s(t.appointTimeInfo.time))])]),a("view",{staticClass:"row"},[a("view",{staticClass:"info-left"},[t._v("门诊类型")]),a("view",{staticClass:"info-right"},[t._v(t._s(t.doctorInfo.position))])]),a("view",{staticClass:"row"},[a("view",{staticClass:"info-left"},[t._v("费用")]),a("view",{staticClass:"info-right"},[t._v(t._s(t.appointTimeInfo.price))])])]),a("view",{staticClass:"detail-wrap margin-top"},[a("view",{staticClass:"detail-row"},[a("view",{staticClass:"detail-left"},[t._v("就诊人")]),a("view",{staticClass:"detail-right",attrs:{eventid:"405816aa-0"},on:{click:t.goBasicInfo}},[t._v(t._s(t.userInfo.name)),a("text",{staticClass:"cuIcon-right",staticStyle:{"margin-left":"30rpx"}})])]),a("view",{staticClass:"detail-row"},[a("view",{staticClass:"detail-left"},[t._v("初/复诊")]),a("view",{staticClass:"detail-right",staticStyle:{display:"flex"}},[a("picker",{staticStyle:{width:"423rpx"},attrs:{value:t.type,range:t.types,eventid:"405816aa-1"},on:{change:t.typeChanged}},[a("view",{staticClass:"picker"},[t._v(t._s(t.type))])]),a("view",{staticClass:"cuIcon-right",staticStyle:{"margin-left":"30rpx"}})],1)]),a("view",{staticClass:"detail-row"},[a("view",{staticClass:"detail-left"},[t._v("疾病信息")]),a("view",{staticClass:"detail-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sickInfo,expression:"sickInfo"}],staticClass:"sickInput",attrs:{name:"input","placeholder-style":"color: #8799a3;",placeholder:"请填写疾病信息",eventid:"405816aa-2"},domProps:{value:t.sickInfo},on:{input:function(e){e.target.composing||(t.sickInfo=e.target.value)}}})])]),a("view",{staticClass:"detail-row"},[a("view",{staticClass:"detail-left"},[t._v("健康信息")]),a("view",{staticClass:"detail-right",attrs:{eventid:"405816aa-3"},on:{click:t.goHealthInfo}},[t._v("个人健康档案"),a("text",{staticClass:"cuIcon-right",staticStyle:{"margin-left":"30rpx"}})])]),t._m(1)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"row"},[a("view",{staticClass:"info-left"},[t._v("就诊医院")]),a("view",{staticClass:"info-right"},[t._v("常州市第二人民医院阳湖院区")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"detail-row"},[a("view",{staticClass:"detail-left"},[t._v("支付方式")]),a("view",{staticClass:"detail-right"},[t._v("去医院支付"),a("text",{staticClass:"cuIcon-right",staticStyle:{"margin-left":"30rpx"}})])])}];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})}},[["0b75","common/runtime","common/vendor"]]]);